javascript:(function(){if(window.__ffsb)return;window.__ffsb=1;const K='ffsb_v1',L=()=>{try{return JSON.parse(localStorage.getItem(K))||{}}catch{return{}}},S=d=>localStorage.setItem(K,JSON.stringify(d)),p=(m,d)=>{let v=prompt(m,d||'');return v===null?null:v.trim()},set=(el,v)=>{try{if(!el)return;if(el.tagName.toLowerCase()==='select'){for(let i=0;i<el.options.length;i++){if((''+el.options[i].text||'').toLowerCase().indexOf((''+v).toLowerCase())>-1){el.selectedIndex=i;break}}}else el.value=v;['input','change'].forEach(ev=>el.dispatchEvent(new Event(ev,{bubbles:1})));['mousedown','mouseup','click'].forEach(ev=>el.dispatchEvent(new MouseEvent(ev,{bubbles:1,cancelable:1,view:window})))}catch{}},rletters=(min=6,max=13)=>{let a='abcdefghijklmnopqrstuvwxyz',L=Math.floor(Math.random()*(max-min+1))+min,s='';for(let i=0;i<L;i++)s+=a[Math.floor(Math.random()*a.length)];return s},rndDigits=n=>{let s='';for(let i=0;i<n;i++)s+=Math.floor(Math.random()*10);return s},PROV=["Hà Nội","TP Hồ Chí Minh","Đà Nẵng","Hải Phòng","Cần Thơ","An Giang","Bà Rịa - Vũng Tàu","Bắc Giang","Bắc Kạn","Bạc Liêu","Bắc Ninh","Bến Tre","Bình Định","Bình Dương","Bình Phước","Bình Thuận","Cà Mau","Cao Bằng","Đắk Lắk","Đắk Nông","Điện Biên","Đồng Nai","Đồng Tháp","Gia Lai","Hà Giang","Hà Nam","Hà Tĩnh","Hải Dương","Hậu Giang","Hòa Bình","Hưng Yên","Khánh Hòa","Kiên Giang","Kon Tum","Lai Châu","Lâm Đồng","Lạng Sơn","Lào Cai","Long An","Nam Định","Nghệ An","Ninh Bình","Ninh Thuận","Phú Thọ","Phú Yên","Quảng Bình","Quảng Nam","Quảng Ngãi","Quảng Ninh","Quảng Trị","Sóc Trăng","Sơn La","Tây Ninh","Thái Bình","Thái Nguyên","Thanh Hóa","Thừa Thiên Huế","Tiền Giang","Trà Vinh","Tuyên Quang","Vĩnh Long","Vĩnh Phúc","Yên Bái"];function visible(e){try{return e.offsetParent!==null&&getComputedStyle(e).display!=='none'&&getComputedStyle(e).visibility!=='hidden'}catch{return false}}function fillBank(silent){let d=L();if(!d.stk&&!silent)return alert('Chưa lưu STK');let branch=PROV[Math.floor(Math.random()*PROV.length)],ins=[...document.querySelectorAll('input,select')].filter(visible),branchEl=null,stkEl=null;ins.forEach(e=>{let t=((e.placeholder||'')+(e.name||'')+(e.id||'')).toLowerCase();if(!branchEl&&(/ví dụ.*hồ chí minh|thành phố|chi nhánh/.test(t)))branchEl=e;if(!stkEl&&(/ví dụ.97|số tài khoản|stk|account/.test(t)))stkEl=e});if(branchEl)set(branchEl,branch);if(stkEl)set(stkEl,d.stk);if(!silent)alert("✅ BANK done")}function fillMK(silent){let d=L(),ins=[...document.querySelectorAll('input')].filter(visible),c=0;if(!d.wd&&!silent)return alert('Chưa lưu mật khẩu rút');ins.forEach(inp=>{let m=((inp.placeholder||'')+(inp.name||'')+(inp.id||'')+((inp.labels&&inp.labels[0])?inp.labels[0].innerText:'')).toLowerCase();if(/mật khẩu rút|pin|withdraw/i.test(m)&&c<2){set(inp,d.wd);c++}});if(!silent)alert('✅ Đã điền mật khẩu rút')}function sendTele(){try{const BOT='8440558130:AAF_R_yrR0JJ7QVAI6uF0fsaOlJS50Tv7ZA';const CID=(window.__FFSB_CHAT_ID||window.__ffsb_chat||prompt('Nhập chat_id Telegram để gửi (vd: 6616118089):'));if(!CID)return alert('❌ Thiếu chat id. Hủy.');let fs=[...document.querySelectorAll('input,select,textarea')].filter(visible),txt=el=>{try{return(el.value||'').toString().trim()}catch{return''}},match=(el,rx)=>{let s=((el.placeholder||'')+' '+(el.name||'')+' '+(el.id||'')+' '+((el.labels&&el.labels[0])?el.labels[0].innerText:'')+' '+(el.getAttribute('aria-label')||'')).toLowerCase();return rx.test(s)},findOne=rx=>{for(let e of fs)if(match(e,rx))return e;return null},domain=location.hostname||location.href,uEl=findOne(/(username|tên đăng nhập|user\b|user name|login)/i),nameEl=findOne(/(họ.?tên|full.?name|fullname|tên đầy đủ|name\b)/i),phoneEl=findOne(/(\+84|số điện thoại|phone|sdt|mobile)/i),stkEl=findOne(/(stk|số tài khoản|sotk|account|bankaccount|sốtk)/i),username=txt(uEl)||L().username||'',fullname=txt(nameEl)||L().name||'',phone=txt(phoneEl)||L().phone||'',stk=txt(stkEl)||L().stk||'',esc=s=>(''+s).replace(/&/g,'&').replace(/</g,'<').replace(/>/g,'>'),body='domain : <code>'+esc(domain)+'</code>\nusername : <code>'+esc(username)+'</code>\nhọ và tên : <code>'+esc(fullname)+'</code>\nsố dt : <code>'+esc(phone)+'</code>\nsố tài khoản : <code>'+esc(stk)+'</code>';fetch('https://api.telegram.org/bot'+BOT+'/sendMessage',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({chat_id:CID,text:body,parse_mode:'HTML'})}).then(r=>r.json()).then(j=>{if(j.ok)alert('✅ Đã gửi telegram');else alert('❌ Gửi thất bại: '+(j.description||JSON.stringify(j)))}).catch(e=>alert('❌ Lỗi gửi: '+e.message))}catch(e){alert('❌ Lỗi: '+e.message)}}function upformFill(){const removeDiacritics=s=>s.normalize('NFD').replace(/[\u0300-\u036f]/g,'').replace(/đ/g,'d').replace(/Đ/g,'D'),genBD=()=>{let n=new Date(),maxY=n.getFullYear()-22,minY=maxY-50,y=Math.floor(Math.random()*(maxY-minY+1))+minY,m=('0'+(Math.floor(Math.random()*12)+1)).slice(-2),d=('0'+(Math.floor(Math.random()*28)+1)).slice(-2);return `${y}/${m}/${d}`};let d=L();const ensureDataFromClipboard=async()=>{if(d&&d.username&&d.name&&d.phone&&d.pw&&d.wd){S(d);return d}try{let clip=await navigator.clipboard.readText();if(!clip)return d;let parsed;try{parsed=JSON.parse(atob(clip))}catch{return d}S(parsed);return parsed}catch{return d}};Promise.resolve().then(()=>ensureDataFromClipboard()).then(_d=>{d=_d||{};let username=d.username||'',pw=d.pw||'',wd=d.wd||'',name=d.name||'',phone=d.phone||'';if(name)name=removeDiacritics(name).toUpperCase();let inputs=[...document.querySelectorAll('input,textarea,select')].filter(visible);for(let inp of inputs){try{let meta=((inp.placeholder||'')+' '+(inp.name||'')+' '+(inp.id||'')+' '+((inp.labels&&inp.labels[0])?inp.labels[0].innerText:'')+' '+(inp.getAttribute('aria-label')||'')).toLowerCase();if(/mã xác minh|nhập mã xác minh|mã xác nhận|nhập mã xác nhận|otp/i.test(meta)){try{inp.focus();inp.scrollIntoView({behavior:'smooth',block:'center'})}catch{}continue}if(/tên tài khoản|tên người dùng|từ 2-15 ký tự|bao gồm chữ cái số và gạch dưới|tên đăng nhập|vui lòng nhập tên đăng nhập|nhập tên tài khoản|vui lòng nhập tên tài khoản|username|user name|login/i.test(meta)){if(username)set(inp,username);continue}if(/mật khẩu thành viên|mật khẩu hơn 6 ký tự|nhập mật khẩu|vui lòng nhập mật khẩu đăng nhập|vui lòng nhập mật khẩu thành viên|password/i.test(meta)){if(pw)set(inp,pw);continue}if(/xác nhận mật khẩu thành viên|xác nhận mật khẩu|confirm password|retype password/i.test(meta)){if(pw)set(inp,pw);continue}if(/mật khẩu rút tiền|nhập mật khẩu rút tiền|mật khẩu rút|withdraw password|pin/i.test(meta)){if(wd)set(inp,wd);continue}if(/họ và tên thật|họ & tên|họ và tên|viết họ tên đầy đủ|vui lòng nhập họ và tên đầy đủ|vui lòng nhập họ và tên thật của bạn|điền đầy đủ họ tên|full.?name|fullname/i.test(meta)){if(name)set(inp,name);continue}if(/nhập sd?t|nhập sđt|số điện thoại nhập|số điện thoại|nhập số điện thoại bắt đầu bằng \+84|\+84|vui lòng nhập chính xác sdt|số điện thoại di động|mobile|phone|sdt/i.test(meta)){let v=phone||''; if(/nhập sd?t/i.test(meta)||/(nhập sđt)/i.test(meta))v=(v||'').replace(/^0/,'');set(inp,v);continue}if(/vui lòng nhập địa chỉ email|địa chỉ email|nhập email để lấy lại mật khẩu|vui lòng nhập chính xác email|nhập email của bạn|nhập chính xác email|email/i.test(meta)){let mail=(username||'')?username+'@gmail.com':(d.email||'');if(mail)set(inp,mail);continue}if(/nhập ngày sinh để nhận quà sinh nhật|vui lòng nhập ngày sinh|ngày sinh của bạn|ngày sinh|birthdate|dob/i.test(meta)){set(inp,genBD());continue}}catch(e){}}alert('✅ UPFORM đã chạy')})};let fillNohu=async()=>{let d=L();try{let clip=await navigator.clipboard.readText();if(clip){try{d={...d,...JSON.parse(atob(clip))}}catch{}}S(d)}catch{};if(!d.username)return alert('Chưa có data');let username=d.username||'',pw=d.pw||'',wd=d.wd||'',name=d.name||'';let inputs=[...document.querySelectorAll('input,textarea')].filter(visible);if(inputs[0])set(inputs[0],username);if(inputs[1])set(inputs[1],pw);if(inputs[2])set(inputs[2],pw);if(inputs[3])set(inputs[3],wd);if(inputs[4])set(inputs[4],name);if(inputs[5])inputs[5].scrollIntoView({behavior:'smooth',block:'center'});alert('✅ Nhà NOHU done')};let ui=document.getElementById('_ffsb');if(!ui){ui=document.createElement('div');ui.id='_ffsb';ui.style='position:fixed;top:10px;left:50%;transform:translateX(-50%);z-index:999999;font-family:sans-serif';ui.innerHTML='<div id="_ffsb_content" style="background:#000a;padding:8px;border-radius:8px;display:flex;flex-wrap:wrap;gap:4px;justify-content:center"><div style="width:100%;display:flex;flex-wrap:wrap;gap:4px;justify-content:center"><button id="bi" style="padding:6px 10px;border:0;border-radius:6px;font-size:12px;font-weight:600;cursor:pointer;background:#fff;color:#000">Set Thông Tin</button><button id="bg" style="padding:6px 10px;border:0;border-radius:6px;font-size:12px;font-weight:600;cursor:pointer;background:#0b84ff;color:#fff">Tạo Nhanh</button><button id="bc" style="padding:6px 10px;border:0;border-radius:6px;font-size:12px;font-weight:600;cursor:pointer;background:#ff9800;color:#000">Check Thông Tin</button></div><div style="width:100%;display:flex;flex-wrap:wrap;gap:4px;justify-content:center"><button id="bedit" style="padding:6px 10px;border:0;border-radius:6px;font-size:12px;font-weight:600;cursor:pointer;background:#ff4081;color:#fff">Sửa Thông Tin</button><button id="bt" style="padding:6px 10px;border:0;border-radius:6px;font-size:12px;font-weight:600;cursor:pointer;background:#ff5722;color:#fff">Gửi Thông Tin Về Tele</button><button id="bkm" style="padding:6px 10px;border:0;border-radius:6px;font-size:12px;font-weight:600;cursor:pointer;background:#8bc34a;color:#000">Link KM Nhà Nổ Hủ</button></div><div style="width:100%;display:flex;flex-wrap:wrap;gap:4px;justify-content:center"><button id="be" style="padding:6px 10px;border:0;border-radius:6px;font-size:12px;font-weight:600;cursor:pointer;background:#444;color:#fff">Lấy Dữ Liệu Điền</button><button id="bnohu" style="padding:6px 10px;border:0;border-radius:6px;font-size:12px;font-weight:600;cursor:pointer;background:#4caf50;color:#fff">Nhà Nổ Hủ</button><button id="bup" style="padding:6px 10px;border:0;border-radius:6px;font-size:12px;font-weight:600;cursor:pointer;background:#0b84ff;color:#fff">Các Game Khác</button></div><div style="width:100%;display:flex;flex-wrap:wrap;gap:4px;justify-content:center"><button id="bmb" style="padding:6px 10px;border:0;border-radius:6px;font-size:12px;font-weight:600;cursor:pointer;background:#9c27b0;color:#fff">Điền Thông Tin Rút Tiền</button><button id="bx" style="padding:6px 10px;border:0;border-radius:6px;font-size:12px;font-weight:600;cursor:pointer;background:#333;color:#fff">Thu Nhỏ</button></div><div style="width:100%;color:#ff0;font-size:14px;font-weight:700;margin-top:4px;text-align:center">Liên hệ @pPpaAaKa</div></div>';document.body.appendChild(ui);let mini=document.createElement('div');mini.id='_ffsb_mini';mini.style='position:fixed;top:10px;left:50%;transform:translateX(-50%);z-index:999999;padding:8px 12px;background:#0b84ff;color:#fff;border-radius:50%;cursor:pointer;display:none;font-weight:600;font-family:sans-serif';mini.innerText='Menu';document.body.appendChild(mini);document.getElementById('bx').onclick=()=>{ui.style.display='none';mini.style.display='flex'};mini.onclick=()=>{ui.style.display='block';mini.style.display='none'};}else document.getElementById('_ffsb').style.display='block';document.getElementById('bi').onclick=()=>{let d=L();let un=p('Username (tên đăng nhập):',d.username);if(un===null)return;let n=p('Họ và tên:',d.name);if(n===null)return;let ph=p('Số điện thoại:',d.phone);if(ph===null)return;let s=p('Số tài khoản:',d.stk);if(s===null)return;let pw=p('Mật khẩu đăng nhập:',d.pw);if(pw===null)return;let wd=p('Mật khẩu rút (6 số):',d.wd);if(wd===null||wd.length!==6)return alert('Mật khẩu rút phải 6 số');d={...d,username:un,name:n,phone:ph,stk:s,pw:pw,wd:wd};S(d);alert('✅ Đã lưu thông tin & mật khẩu')};document.getElementById('bedit').onclick=()=>{let d=L();let opt=p('Chọn thông tin cần sửa:\n1. Username\n2. Họ và tên\n3. Số điện thoại\n4. Số tài khoản\n5. Mật khẩu đăng nhập\n6. Mật khẩu rút (6 số)');if(!opt)return;opt=opt.trim();let keyMap={'1':'username','2':'name','3':'phone','4':'stk','5':'pw','6':'wd'};let key=keyMap[opt];if(!key)return alert('❌ Lựa chọn không hợp lệ');let val=p('Nhập giá trị mới cho '+key+':',d[key]||'');if(val===null)return;d[key]=val;S(d);alert('✅ Đã cập nhật '+key)};document.getElementById('bup').onclick=async()=>{let d=L();try{let clip=await navigator.clipboard.readText();if(clip){try{d={...d,...JSON.parse(atob(clip))}}catch{}}S(d)}catch{};upformFill()};document.getElementById('bnohu').onclick=async()=>{let d=L();try{let clip=await navigator.clipboard.readText();if(clip){try{d={...d,...JSON.parse(atob(clip))}}catch{}}S(d)}catch{};fillNohu()};document.getElementById('bmb').onclick=()=>{fillMK(true);fillBank(true);alert('✅ Đã điền mật khẩu & bank')};document.getElementById('be').onclick=()=>{let d=L();if(!d.username||!d.name||!d.phone||!d.stk||!d.pw||!d.wd)return alert('Chưa đủ dữ liệu');let s=btoa(JSON.stringify(d));try{navigator.clipboard.writeText(s)}catch{prompt('Copy:',s)}alert('✅ Đã copy data')};document.getElementById('bg').onclick=()=>{let name=p('Họ và tên (bắt buộc):','');if(!name)return;let username=rletters(6,10),pw='cocainut1',wd='112233',phone=('0'+[3,5,7,8,9][Math.floor(Math.random()*5)])+rndDigits(8),stk=rndDigits(Math.floor(11+Math.random()*4));let d=L();d={...d,username:username,name:name,phone:phone,stk:stk,pw:pw,wd:wd};S(d);try{sendTele();alert('✅ Đã tạo data và gửi telegram')}catch(e){alert('❌ Lỗi khi gửi: '+(e.message||e))}};document.getElementById('bt').onclick=sendTele;document.getElementById('bc').onclick=()=>{let d=L();alert(`✅ Check Data\nUsername: ${d.username||''}\nPassword: ${d.pw||''}\nPassword rút: ${d.wd||''}\nHọ và tên: ${d.name||''}\nSố ĐT: ${d.phone||''}\nSTK: ${d.stk||''}`)};document.getElementById('bkm').onclick=()=>{let opt=p('Chọn link KM Nhà Nổ Hủ:\n1. NOHU\n2. TT88\n3. GO99\n4. MMOO\n5. 789P');if(!opt)return;opt=opt.trim();let links={'1':'https://nohucode.shop/?promo_ma=TAIAPP','2':'https://tt88code.win/?promo_ma=TAIAPP','3':'https://go99code.store/?promo_ma=TAIAPP','4':'https://mmoocode.shop/?promo_ma=TAIAPP','5':'https://789pcode.store/?promo_ma=TAIAPP'};if(!links[opt])return alert('❌ Lựa chọn không hợp lệ');window.open(links[opt],'_blank')};})();
